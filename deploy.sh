#!/bin/bash

echo "Ì∫Ä –ù–∞—á–∏–Ω–∞–µ–º –¥–µ–ø–ª–æ–π –Ω–∞ GitHub Pages..."

# 1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π package.json
cp package.json package.json.backup

# 2. –ò–∑–º–µ–Ω–∏—Ç—å homepage –¥–ª—è GitHub Pages
echo "Ì≥¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º homepage: /MyReactApp"
sed -i 's|"homepage": "."|"homepage": "/MyReactApp"|' package.json

# 3. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π build
echo "Ì∑π –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—É—é —Å–±–æ—Ä–∫—É..."
rm -rf build/

# 4. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
echo "Ì¥® –°–æ–±–∏—Ä–∞–µ–º –ø—Ä–æ–µ–∫—Ç..."
npm run build

# 5. –î–µ–ø–ª–æ–π
echo "Ì∫Ä –î–µ–ø–ª–æ–∏–º –Ω–∞ GitHub Pages..."
npm run deploy

# 6. –í–µ—Ä–Ω—É—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
echo "‚Ü©Ô∏è –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏..."
mv package.json.backup package.json

# 7. –ï—â–µ —Ä–∞–∑ —Å–æ–±—Ä–∞—Ç—å –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
echo "Ì¥® –°–æ–±–∏—Ä–∞–µ–º –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏..."
npm run build

echo "‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω!"
echo "Ìºê –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: https://zaridigi.github.io/MyReactApp/"
echo "Ì≤ª –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: npm start"
